<div class="card h-screen flex flex-col overflow-hidden">
  <div class="flex justify-between gap-2 p-4">
    <p-selectbutton [allowEmpty]="false"> </p-selectbutton>
    <button
      pButton
      icon="pi pi-plus"
      label="Agregar"
      (click)="handleDialogBook(undefined, 0, false, $event)"
      [loading]="allBooksQuery.isLoading()"
      [disabled]="allBooksQuery.isPending()"
    ></button>
  </div>

  <div class="flex-1 overflow-y-auto px-4 py-2">
    @for (book of allBooksQuery.data(); track $index) {
    <book-list [book]="book" />
    } @empty { @if (!allBooksQuery.isLoading() && !allBooksQuery.data()?.length)
    {
    <h1>No hay Libros que mostrar!</h1>
    } @else { @for (i of counterArray(8); track $index) {
    <book-skeleton />
    } } }
  </div>

  <div class="sticky bg-auto/50 bottom-0 z-10">
    <p-paginator
      [rows]="rows"
      [totalRecords]="allBooksQuery.data()?.length"
      [first]="first"
      (onPageChange)="onPageChange($event)"
      [rowsPerPageOptions]="[5, 10, 20]"
    ></p-paginator>
  </div>
</div>
